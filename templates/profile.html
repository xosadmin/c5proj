<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{userID}} - Profile - Adventurer Guild</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="{{url_for('static',filename='js/main.js')}}"></script>
    <link rel="stylesheet" href="{{url_for('static',filename='css/main.css')}}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
</head>
<body>
    <nav class="navbar navbar-default navigationBar rounded-pill">
        <div class="container-fluid">
            <div class="navbar-header">
            <a class="navbar-brand" href="#">Adventurer Guild</a>
            </div>
            <div>
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/profile">Home</a></li>
                    <li><a href="/requests">Request List</a></li>
                    <li><a href="/todo">To-do List</a></li>
                    <li><a href="/shop">Shop</a></li>
                    <li><a href="/community">Community</a></li>
                    <li><a href="/leaderboard">Leaderboard</a></li>
                    <li><a href="/chat">Chatroom</a></li>
                    <li><a href="/logout">Logout</a></li>
                </ul>
            </div>
        </div>
      </nav>
      <div id="mainContent">
            {% if infomsg %}
                <div class="alert alert-info">{{ infomsg }}</div>
            {% endif %}
            <h1 id="pageBanner">My Profile</h1>
            <p>Here's your home!</p>
            {% for useritems in user_details %}
            <div class="profileimgdiv">
                <img src="{{ url_for('static', filename='nft/' + useritems.avatar|string + '.png') }}" alt="Avatar" class="profileimages">
                <p>Avatar</p>
            </div>
            <br>
            <table class="table table-striped listcontents">
                <tbody>
                <tr>
                    <th scope="col">User ID</th>
                    <th scope="col">Email Address</th>
                    <th scope="col">Nickname</th>
                    <th scope="col">Location</th>
                    <th scope="col">Coins</th>
                </tr>
                <tr>
                    <td>{{useritems.userID}}</td>
                    <td>{{useritems.email}}</td>
                    <td>{{rnickname}}</td>
                    <td>{{rcountry}}</td>
                    <td>{{useritems.coins}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            <div>
                <h3>Account Actions</h3>
                <div>
                    <table class="table table-striped listcontents">
                        <tbody>
                            <tr>
                                <th scope="col">Password</th>
                                <th scope="col">Pin code</th>
                                <th scope="col">3rd Profile View</th>
                            </tr>
                            <tr>
                                <td><a href="/modifypassword" title="Modify Password">Modify Password</a></td>
                                <td><button type="button" id="showpin" class="btn btn-success">Show Pin Code</button><div id="pincode">{{pincode}}</div>&nbsp;<a href="/modifypin" title="Modify Password">Modify Pin Code</a></td>
                                <td><a href="/profile/{{userID}}" title="View my profile in 3rd views" target="_blank">View my profile as 3rd person view</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <h3>My Signs History</h3>
            <table class="table table-striped listcontents">
                <tbody>
                <tr>
                    <th scope="col">Time</th>
                    <th scope="col">Emotional Feelings</th>
                    <th scope="col">Comments</th>
                    <th scope="col">Rewards</th>
                </tr>
                {% for item in signHistory %}
                <tr>
                    <td>{{item.time}}</td>
                    <td>{{item.emotion}}</td>
                    <td>{{item.comments}}</td>
                    <td>+ $${{item.rewards}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            <h3>My Items</h3>
            <p><a href="/setavatar/default" title="Restore Default Avatar">Restore Default Avatar</a></p>
            <table class="table table-striped listcontents">
                <tbody>
                <tr>
                    <th scope="col">Transaction ID</th>
                    <th scope="col">Item Preview</th>
                    <th scope="col">Set as avatar</th>
                </tr>
                {% for nftitem in nft_details %}
                <tr>
                    <td>{{nftitem.transactionID}}</td>
                    <td><img src="{{ url_for('static', filename='nft/' + nftitem.itemID|string + '.png') }}" alt="Item Preview" class="itempreview"></td>
                    <td><a href="/setavatar/{{nftitem.itemID}}" title="Set as avatar">Set as avatar</a></td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
      </div>
</body>
</html>